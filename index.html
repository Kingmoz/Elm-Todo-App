<!DOCTYPE html>
<html>
  <head>
    <meta charSet="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ELM Todo List</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script type="text/javascript" src="elm.js"></script>
  </head>
  <body>
    <div id="root"></div>
  </body>
  <script type="text/javascript">
    var storageKey = "todo-items";
    var storedState = localStorage.getItem(storageKey);
    var startingState = storedState ? JSON.parse(storedState) : null;
    var app = Elm.Main.init({
      node: document.getElementById('root'),
      flags: startingState
    });
    app.ports.setStorage.subscribe(function(state) {
      localStorage.setItem(storageKey, JSON.stringify(state));
    });
  </script>
</html>
